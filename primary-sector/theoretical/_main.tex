\documentclass{Academic}
\usepackage{csquotes}
\begin{document}
%Easy customisation of title page
%TC:ignore
    \myabstract{\include{abstract}}
    \renewcommand{\myTitle}{A Survey of State of the Art Crop Rotation Prediction Approaches}
    \renewcommand{\MyAuthor}{Leon Knorr}
    \renewcommand{\MyDepartment}{Mannheim Master of Datascience}
    \renewcommand{\ID}{1902854}
    \renewcommand{\Keywords}{Agriculture, AI, Crop Rotation}
    \maketitle
%\vspace{-1.9em}\noindent\rule{\textwidth}{1pt} %add this line if not using abstract
    %\onehalfspacing
%TC:endignore


    \section{Introduction}
    Agricultural systems are facing a wide range of challenges. This includes:
    \begin{itemize}
        \item feeding a growing population with limited space while keeping prices low~\cite{noauthor_oecd-fao_2021},
        \item following socio-cultural and lifestyle-driven trends towards a more sustainable and healthier diet offerings~\cite{noauthor_oecd-fao_2021},
        \item alleviating environmental pressures of intensive agriculture~\cite{upcott_new_2023},
        \item climate change and with that the rise of extreme weather events~\cite{upcott_new_2023},
        \item increasing pesticide resistance of pest species~\cite{curl_control_1963}
    \end{itemize}
    Most of these challenges have been around for decades, with less severe impacts on yield and profitability~\cite{curl_control_1963, upcott_new_2023}. In order to face these challenges, farmers recognised early on, that using a one-crop system leads to a decrease in yield and promote the emergence of plat diseases and pests. Thus, a Crop Rotation system was invented, where Farmers grew a wide variety of Crops in long circles in a specific order~\cite{noauthor_crop_2023, curl_control_1963}. This not only had a positive effect on yields, but it was also found, that some crop types did benefit each other, it also reduced the need to use extensive and expensive fertilization methods and was able to combat pests and diseases without chemical inputs~\cite{curl_control_1963}. However, in intensive agricultural systems, long crop rotation cycles have been replaced by intensive use of tillage, fertilizers and pesticides, in order to grow more profitable crops more frequently and ultimately increasing financial return~\cite{upcott_new_2023}. These practices have a big impact on the environment, affecting biodiversity, landscape design, decreasing soil properties and harm non-target species and habitats~\cite{upcott_new_2023, dury_models_2012}. Therfore, Crop Rotation techniques are making their return into agricultural systems. However, choosing the right crop and rotation cycle is a challenging task. It is spatially and temporal dependent, and involves a lot of uncertainty in terms of future weather, atmospheric properties and market development~\cite{upcott_new_2023, noauthor_crop_2023, pragathi_crop_nodate}. In addition, the decision maker needs a lot of specialized knowledge about different crop types, their relation, benefits and needs. To support actors that are concerned with deciding on Crop Rotation and Cropping Plans, current research is developing a variety of models, which promise to accurately predict the following crop or even whole crop rotation sequences. In this paper, different approaches to Crop Rotation prediction are summarized, explained and discussed with regards to different criteria. Ultimately all approaches are then categorized in terms of their usability and practical relevance.

    \section{Methodology}
    In the first section, crop rotation and their practical application is defined. In the second section, different approaches to crop prediction applications are outlined and compared in terms of:
    \begin{itemize}
        \item their methodology, this includes the categorization into three main categories: classic approaches, which use expert knowledge, data analysis which use traditional data mining and decision support methods and machine learning approaches.
        \item the input data the system is able to work with,
        \item their overall goals,
    \end{itemize}
    In the third section, the overall real world usability and practical relevance of the system is assessed and points for improvement are outlined.

    \section{Definitions \& Concepts}
    Before reviewing and presenting different approaches to crop rotation, this section will introduce the overall problem of crop rotation prediction, along with important definitions and real world applications, such as defining a cropping plan and what these decisions should involve.

    \subsection{Crop Rotation}
    Crop rotation is defined as the practice of growing a sequence of plant species on the same land over a \textit{cycling} period of time~\cite{noauthor_crop_2023, dury_models_2012}. It is characterised by a cycle period, while a crop sequence is limited to the order of appearance of a crop on the same land. The length of a rotation cycle varies. Simple crop rotations might only involve two or three years, while more complex ones can take up to twelve years~\cite{noauthor_crop_2023}. Because growing a crop has an impact on soil characteristics such as soil nutrient balance, choosing the right following crop is important. Choosing the right crop and ultimately designing a good crop rotation cycle enables agricultural systems to balance soil nutrient levels and increase soil fertility, enhance the soil structure, prevent soil erosion, break pest and disease cylces, improve weed management and ultimately improve yields and profitability, while keeping the impact to the environment to a minimum~\cite{noauthor_crop_2023}. It allows the design of a \textit{stable} temporal cropping system, which reduces the dependence on external inputs such as fertilizer and pesticides, allows the attenuation of environmental impact and maintains production achievements and profitability~\cite{dury_models_2012}. However, designing a good crop rotation cycle and applying it to every field on the farm is not feasable. Therefore, farmers define a Cropping Plan.

    \subsection{Cropping Plan}
    A cropping plan refers to the acreages occupied by all the different crops every year, and their spatial distribution within a farming land~\cite{dury_models_2012}. Thus, it handles which crop is growed where on the farm, in terms their actual allocation to a field / parcel and at the same time, it keeps track of the overall distribution of acreage per crop. The allocation of crops to fields, can be spatially explicit or be dependent on land are attributes such as the soil type or climate~\cite{dury_models_2012}. Depending on an actors area of responsibility, cropping plans can be expressed on different levels, e.g. it can be expressed on a farm level, handling all fields of a specific farm for a farmer, or it can be expressed at a higher level, to address collective issues, such as ressource usage, economy, food distribution etc. as it is important for countries or big agriculture companies. Traditionally a cropping plan is derived from crop proportions defined by crop rotation~\cite{dury_models_2012}.

    \subsection{Important Factors in Defining a Cropping Plan}
    As the cropping plan defines the overall allocation of land to certain crop types, a lot of factors play a role in designing a copping plan. During the rest of the paper, it is assumed that a cropping plan has to be created on a per farm level. First up, it involves the decision of which crops to grow, their allocation within the farmland them and their overall distribution over the farm. These three decisions are closely related to each other and all face different levels of uncertainty for different important factors.\\
    Choosing the right crop to grow is directly affected by multiple different factors. First, what is overall goal, that should be achieved with this crop? This question is directly dependent on the current market situation, as a farmer has to think about what market segments he wants to serve, this includes bio-fuels, food, live-stock self sufficiency etc \cite{noauthor_oecd-fao_2021}. This decision also has a direct impact on the quality that has to be achieved for a given crop. Optimally, farmers diversify their crop types, such that they can serve multiple segments at the same time, referring to the decision about crop distribution. However, this decision also involves uncertainty as the farmer does not know how the market will develop and how their crop might develop. It is therefore important, to take the different properties of crops into account. These include, the amount of rain, sun, humidity, soil type, soil nutrition levels, water, fertilizers etc. a given crop needs and what diseases and pests risks are associated with this~\cite{curl_control_1963, noauthor_crop_2023}. These factors are directly dependent on spatial factors, that involve crop allocation as they are soil and weather dependent. Of course, these factors also include a lot of uncertainty, such as the weather and depending on them generate different costs and yields. Additionally, different crops need different types of specialized equipment, that the farmer have to have on hand or would need to be rented. It is also common, that a year may include several sowing seasons, because of that, cropping plan decision-making, might involve multiple decision, that are directly dependent to each other, as they have to balance out the environmental impact of the previous crop, all by being profitable at the same time \cite{dury_models_2012}. As a result, a good cropping plan is strategic in terms of long-term production organisation and profitability and it has to be tactic, leaving possibilities for (intra-) annual adjustments in response to a changing uncertain environment \cite{dury_models_2012}.

    \section{Taxonomy of Crop Prediction Approaches}
    In this section, seven different approaches to crop rotation prediction are categorized based on their used methodology, input data and overall goals.

    \subsection{Methodology}
    The methodology of an approach is described by their used technologies and architectures. This includes, if a system is working rule / knowledge based (classic), if it learns from historic observations / data (machine learning) or if it can be derived directly without special model training (data analysis). First the classic approach to crop rotation prediction is outlined. Then current research based on data analysis is introduced and last but not least different state-of-the art machine learning approaches are presented.

    \subsubsection{Classic Approaches} % How was it done before Data Analytics
    Most cropping plans are developed by certified agronomists. Agronomists have studied the growing and harvesting of crops and thus have the expert knowledge required, to reason about the different factors playing into the decision of when and where to grow a selection of crops \cite{dupuis_methodology_2023}. Some countries even provide farmers with agronomists to help them establish stable, profitable and economically friendly cropping plans. As each decision in terms of crop choice and crop allocation is spatial and temporal dependent, agronomists use a variety of tools in addition to their aquired knowledge about crops properties and needs to aid their decisions. This includes, annual crop maps, which describe spatial dependent cropping patterns, soil maps \& sensors, which describe soil properties and average weather data, such as average rain and raining times, and the current market situation~\cite{upcott_new_2023}. Because of that, most decisions around defining a cropping plan are indirectly data-driven but their analysis is carried out manually.

    \subsubsection{Data Analysis} % Transfer Probability Matrices
    One approach to support agronomists and farmers by automating the analysis of already available and used data, is the creation of a spatial crop prediction framework, which can predict crop rotations on a field / parcel scale, as proposed by Upcott et. al~\cite{upcott_new_2023}. They derive Transition Probability Matrices (TPM) from a dataset of crop rotation sequences, which spans 6 years and has been extracted from publicly available annual crop maps. Each TPM has the unique series of $t-1$ previous crops in the t-year rotation as rows and 11 possible crops as columns. Thus, a TPM models $P(y|s_{t-1})$. In total, Upcott et. al. derived four different models based on TPMs.\\
    First, they used an approach which they call \enquote{spatial scaling}~\cite{upcott_new_2023}. Here, seperate TPMs for each $10\times 10$km grid cell have been created. Each entry to the TPM is thus defined using maximum likelyhood estimates as follows:
    $$\mathrm{TPM}_{s_{t-1},j} = \frac{N_{s_{t-1} \rightarrow j}}{N_{s_{t-1}}}$$
    As each TPM is spatially dependend, each TPM gives the probability of a crop field parcel belonging to crop type $j$, condition on the previous years of crops observed. \\
    Second, they proposed an approached based on the national average. For this, the full set of $10\times 10$km TPMs from the spatial scaling approach have been averaged, to produce one global TPM. After averaging each TPM elementwise, the rows of the final TPM have been rescaled to sum up to 1, to ensure appropriate probability based transitions~\cite{upcott_new_2023}. The idea behind this approach was originally to create a spatially indepedent base line representation, as the resulting TPM models crop rotations consistently across the whole (spatial) dataset. \\
    As a third approach, spatial smoothing has been proposed. During this, Upcott et. al incorporated spatial context based on kernel smoothing techniques into their crop rotation prediction system~\cite{upcott_new_2023}. It implies, that fields that are geographically close together, are more likely to undergo similar rotations. To accomplish this, weights were computed by calculating the distance between each grid cell and by applying a gaussian kernel as follows~\cite{upcott_new_2023}:
    \[w(x_i) = \frac{1}{\sqrt{2\pi}}\mathrm{exp}(-0.5(\frac{||x_i - x||_2}{h})^2),\]
    with $x$ being a given grid cell and $h$ is a smoothing parameter.

    \subsubsection{Machine Learning} % Voting classifier, KNN, Decision Tree with GINI and Random Forest, RNNs

    \subsection{Input data}

    \subsection{Goals}


    \section{Usability \& Practical Relevance}


    \section{Conclusion}

%TC:ignore
%\clearpage %add new page for references
    \singlespacing
    \emergencystretch 3em
    \hfuzz 1px
    \printbibliography[heading=bibnumbered]

% \clearpage
% \begin{appendices}

% \section{Here go any appendices!}

% \end{appendices}

%TC:endignore
\end{document}